{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ras/Documents/git/mastery-calculator/components/modal.js\";\nimport { useRef, useState } from 'react';\nimport useOnClickOutside from 'components/outsideclick';\nimport { IngredientDetail } from 'components/item';\nexport default function Modal(props) {\n  const {\n    0: value,\n    1: setValue\n  } = useState(0); //from props\n\n  var ability = props.ability;\n  var skill = props.skill; //create a reference for outside click\n\n  const ref = useRef();\n  useOnClickOutside(ref, () => {\n    props.show && props.changeModal(false);\n  }); //simlation level state\n\n  const {\n    0: simLevel,\n    1: setSimLevel\n  } = useState(99);\n  const ingredientList = ability.ingredients.map(ingredient => /*#__PURE__*/_jsxDEV(IngredientDetail, {\n    ingredient: ingredient,\n    used: ability.ingredientsUsed\n  }, ingredient['name'], false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this));\n\n  function simLevelChange(e) {\n    const reg = /^(0?[0-9]|[1-9][0-9])$/;\n\n    if (e.target.value === '' || reg.test(e.target.value)) {\n      setSimLevel(e.target.value);\n    }\n  }\n\n  function updatePlayer() {\n    let player = props.player;\n    skill.abilities[ability.name] = ability;\n    player.skills[skill.name] = skill;\n    props.changePlayer(player);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    val: value,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"z-20 justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative my-6 mx-auto max-w-3xl w-4/5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: ref,\n          className: \"relative flex flex-col w-full items-start rounded-md shadow-md bg-white dark:bg-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex w-full justify-between border-b border-solid p-1 border-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl capitalize font-semibold dark:text-gray-300\",\n              children: [\"Simulate Mastery - \", ability.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                props.changeModal(false);\n              },\n              className: \"float-right\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-transparent dark:text-gray-300 h-6 w-6 text-xl block\",\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid sm:grid-cols-2 gap-3 mx-auto p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dark:text-gray-300 uppercase\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"current mastery level: \", ability.level]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"align-text-bottom\",\n                  children: \"Simulate to Level:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"mx-1 px-1 w-12 text-black border-2 border-gray-800\",\n                  value: simLevel,\n                  onChange: e => simLevelChange(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    ability.simulate(simLevel), updatePlayer();\n                  },\n                  type: \"button\",\n                  className: \"px-2 mx-2 rounded-md bg-green-500 text-white\",\n                  children: \"Simulate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"preservation rate: \", skill.preservation.toLocaleString(\"en\", {\n                  style: \"percent\"\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"action interval: \", skill.interval, \" seconds\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"XP earned: \", ability.xpEarned.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Time Taken: \", ability.timeToLevel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Pool XP earned: \", ability.poolXpEarned.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dark:text-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Ingredients:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this), ingredientList]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full border-t border-solid border-gray-300 flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-red-500 font-bold px-6 py-2 text-sm\",\n              type: \"button\",\n              style: {\n                transition: \"all .15s ease\"\n              },\n              onClick: () => {\n                props.changeModal(false);\n              },\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-black opacity-50 fixed inset-0 z-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/Users/ras/Documents/git/mastery-calculator/components/modal.js"],"names":["useRef","useState","useOnClickOutside","IngredientDetail","Modal","props","value","setValue","ability","skill","ref","show","changeModal","simLevel","setSimLevel","ingredientList","ingredients","map","ingredient","ingredientsUsed","simLevelChange","e","reg","target","test","updatePlayer","player","abilities","name","skills","changePlayer","level","simulate","preservation","toLocaleString","style","interval","xpEarned","timeToLevel","poolXpEarned","transition"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react';\nimport useOnClickOutside from 'components/outsideclick';\nimport { IngredientDetail } from 'components/item';\n\nexport default function Modal(props) {\n    const [value, setValue] = useState(0)\n    //from props\n    var ability = props.ability\n    var skill = props.skill\n\n    //create a reference for outside click\n    const ref = useRef()\n    useOnClickOutside(ref, () => { props.show && props.changeModal(false) });\n\n    //simlation level state\n    const [simLevel, setSimLevel] = useState(99)\n\n    const ingredientList = ability.ingredients.map((ingredient) =>\n        <IngredientDetail key={ingredient['name']} ingredient={ingredient} used={ability.ingredientsUsed} />\n    )\n\n    function simLevelChange(e) {\n        const reg = /^(0?[0-9]|[1-9][0-9])$/;\n        if (e.target.value === '' || reg.test(e.target.value)) {\n            setSimLevel(e.target.value);\n        }\n    }\n\n    function updatePlayer() {\n        let player = props.player\n        skill.abilities[ability.name] = ability\n        player.skills[skill.name] = skill\n        props.changePlayer(player)\n    }\n\n    return (\n        <div val={value}>\n            <div className=\"z-20 justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0\">\n                <div className=\"relative my-6 mx-auto max-w-3xl w-4/5\">\n                    {/* Content */}\n                    <div ref={ref} className=\"relative flex flex-col w-full items-start rounded-md shadow-md bg-white dark:bg-gray-700\">\n                        {/* Header */}\n                        <div className=\"flex w-full justify-between border-b border-solid p-1 border-gray-300\">\n                            <h3 className=\"text-xl capitalize font-semibold dark:text-gray-300\">Simulate Mastery - {ability.name}</h3>\n                            <button onClick={() => { props.changeModal(false) }} className=\"float-right\">\n                                <span className=\"bg-transparent dark:text-gray-300 h-6 w-6 text-xl block\">\n                                    X\n                            </span>\n                            </button>\n                        </div>\n                        {/* Body */}\n                        <div className=\"grid sm:grid-cols-2 gap-3 mx-auto p-2\">\n                            <div className=\"dark:text-gray-300 uppercase\">\n                                <p>current mastery level: {ability.level}</p>\n                                <div className=\"flex\">\n                                    <p className=\"align-text-bottom\">Simulate to Level:</p>\n                                    <input className=\"mx-1 px-1 w-12 text-black border-2 border-gray-800\" value={simLevel} onChange={(e) => simLevelChange(e)} />\n                                    <button onClick={() => { ability.simulate(simLevel), updatePlayer() }} type=\"button\" className=\"px-2 mx-2 rounded-md bg-green-500 text-white\">Simulate</button>\n                                </div>\n                                <p>preservation rate: {skill.preservation.toLocaleString(\"en\", { style: \"percent\" })}</p>\n                                <p>action interval: {skill.interval} seconds</p>\n                                <p>XP earned: {ability.xpEarned.toLocaleString()}</p>\n                                <p>Time Taken: {ability.timeToLevel}</p>\n                                <p>Pool XP earned: {ability.poolXpEarned.toLocaleString()}</p>\n                            </div>\n                            <div className=\"dark:text-gray-300\">\n                                <p>Ingredients:</p>\n                                {ingredientList}\n                            </div>\n                        </div>\n                        {/* Footer */}\n                        <div className=\"w-full border-t border-solid border-gray-300 flex justify-end\">\n                            <button\n                                className=\"text-red-500 font-bold px-6 py-2 text-sm\"\n                                type=\"button\"\n                                style={{ transition: \"all .15s ease\" }}\n                                onClick={() => { props.changeModal(false) }}\n                            >Close\n                        </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"bg-black opacity-50 fixed inset-0 z-10\"></div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}